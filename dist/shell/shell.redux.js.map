{"version":3,"file":"shell.redux.js","sourceRoot":"","sources":["file:///c:/Dev/git/ng2-admin-lte-shell/tmp/broccoli_type_script_compiler-input_base_path-bj8Bljfj.tmp/0/src/shell/shell.redux.ts"],"names":[],"mappings":"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","sourcesContent":["import { ActionReducer, Action } from '@ngrx/store';\r\n\r\nimport { environment } from '../app';\r\n\r\nconst ACTION_PREFIX = 'APP_SHELL:';\r\n\r\nexport const AppShellActionTypes = {\r\n    TOGGLE_NAVIGATION:  ACTION_PREFIX + 'TOGGLE_NAVIGATION',\r\n    OPEN_NAVIGATION:    ACTION_PREFIX + 'OPEN_NAVIGATION',\r\n    CLOSE_NAVIGATION:   ACTION_PREFIX + 'CLOSE_NAVIGATION',\r\n    TOGGLE_CONTROL_NAVIGATION:  ACTION_PREFIX + 'TOGGLE_CONTROL_NAVIGATION',\r\n    OPEN_CONTROL_NAVIGATION:    ACTION_PREFIX + 'OPEN_CONTROL_NAVIGATION',\r\n    CLOSE_CONTROL_NAVIGATION:   ACTION_PREFIX + 'CLOSE_CONTROL_NAVIGATION',\r\n    SET_WINDOW_SIZE:    ACTION_PREFIX + 'SET_WINDOW_SIZE',\r\n    TOGGLE_DEVTOOLS:    ACTION_PREFIX + 'TOGGLE_DEVTOOLS',\r\n};\r\n\r\nexport const AppShellActions = {\r\n    toggleNavigation(): Action { return { type: AppShellActionTypes.TOGGLE_NAVIGATION }; },\r\n    openNavigation(): Action { return { type: AppShellActionTypes.OPEN_NAVIGATION }; },\r\n    closeNavigation(): Action { return { type: AppShellActionTypes.CLOSE_NAVIGATION }; },\r\n    toggleControlNavigation(): Action { return { type: AppShellActionTypes.TOGGLE_CONTROL_NAVIGATION }; },\r\n    openControlNavigation(): Action { return { type: AppShellActionTypes.OPEN_CONTROL_NAVIGATION }; },\r\n    closeControlNavigation(): Action { return { type: AppShellActionTypes.CLOSE_CONTROL_NAVIGATION }; },\r\n    setWindowSize(width: number, height: number): Action {\r\n        return { type: AppShellActionTypes.SET_WINDOW_SIZE, payload: { width, height } };\r\n    },\r\n    toggleDevTools(): Action { return { type: AppShellActionTypes.TOGGLE_DEVTOOLS }; },\r\n};\r\n\r\nexport interface AppShell {\r\n    isNavigationOpen: boolean;\r\n    isControlNavigationOpen: boolean;\r\n    isDevToolsOpen: boolean;\r\n    isProduction: boolean;\r\n    isDevelopment: boolean;\r\n    windowSize: { width: number; height: number; }\r\n}\r\n\r\nconst defaultAppShellState: AppShell = {\r\n    isNavigationOpen: false,\r\n    isControlNavigationOpen: false,\r\n    isDevToolsOpen: false,\r\n    isProduction: environment.production,\r\n    isDevelopment: !environment.production,\r\n    windowSize: { width: 1024, height: 768 },\r\n};\r\n\r\nfunction setNavigation(state: AppShell, isOpen: boolean) {\r\n    if (state.isNavigationOpen !== isOpen) {\r\n        return Object.assign({}, state, {\r\n            isNavigationOpen: isOpen,\r\n            isControlNavigationOpen: state.isControlNavigationOpen && !isOpen\r\n        });\r\n    }\r\n    return state;\r\n}\r\n\r\nfunction setControlNavigation(state: AppShell, isOpen: boolean) {\r\n    if (state.isControlNavigationOpen !== isOpen) {\r\n        return Object.assign({}, state, {\r\n            isControlNavigationOpen: isOpen,\r\n            isNavigationOpen: state.isNavigationOpen && !isOpen\r\n        });\r\n    }\r\n    return state;\r\n}\r\n\r\nfunction setDevTools(state: AppShell, isOpen: boolean) {\r\n    isOpen = isOpen && state.isDevelopment && !state.isProduction;\r\n    if (state.isDevToolsOpen !== isOpen) {\r\n        return Object.assign({}, state, {\r\n            isDevToolsOpen: isOpen\r\n        });\r\n    }\r\n    return state;\r\n}\r\n\r\nfunction setWindowSize(state: AppShell, size: { width: number, height: number }) {\r\n    return Object.assign({}, state, { windowSize: size });\r\n}\r\n\r\nexport const appShellReducer: ActionReducer<AppShell> = (state: AppShell, action: Action) => {\r\n    if (!state) { state = defaultAppShellState; }\r\n\r\n    switch (action.type) {\r\n        case AppShellActionTypes.TOGGLE_DEVTOOLS: return setDevTools(state, !state.isDevToolsOpen);\r\n\r\n        case AppShellActionTypes.TOGGLE_NAVIGATION: return setNavigation(state, !state.isNavigationOpen);\r\n        case AppShellActionTypes.OPEN_NAVIGATION: return setNavigation(state, true);\r\n        case AppShellActionTypes.CLOSE_NAVIGATION: return setNavigation(state, false);\r\n\r\n        case AppShellActionTypes.TOGGLE_CONTROL_NAVIGATION: return setControlNavigation(state, !state.isControlNavigationOpen);\r\n        case AppShellActionTypes.OPEN_CONTROL_NAVIGATION: return setControlNavigation(state, true);\r\n        case AppShellActionTypes.CLOSE_CONTROL_NAVIGATION: return setControlNavigation(state, false);\r\n\r\n        case AppShellActionTypes.SET_WINDOW_SIZE: return setWindowSize(state, action.payload);\r\n    }\r\n    return state;\r\n};"]}